/* bitbit, a bitboard based chess engine written in c.
 * Copyright (C) 2022-2025 Isak Ellmer
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License, version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

#include "bench.h"

#include "timeman.h"
#include "util.h"
#include "search.h"
#include "move.h"
#include "history.h"

static const char *fens[] = {
	"rnbqkbnr/2ppppp1/p7/1p5p/7P/N4P2/PPPPP1P1/R1BQKBNR w KQkq - 0 1",
	"rnbqkbnr/2p1ppp1/p7/1p1p3p/3P3P/N4P2/PPP1P1P1/R1BQKBNR w KQkq - 0 2",
	"rnbqkbnr/2p1ppp1/p7/3p3p/1p1PP2P/N4P2/PPP3P1/R1BQKBNR w KQkq - 0 3",
	"rnbqkbnr/2p1ppp1/p7/7p/1p1Pp2P/5P2/PPP3P1/RNBQKBNR w KQkq - 0 4",
	"rnbqkbnr/4ppp1/p7/2p4p/1p1PP2P/8/PPP3P1/RNBQKBNR w KQkq - 0 5",
	"rn1qkbnr/1b2ppp1/p7/2p4p/1p1PP2P/2P5/PP4P1/RNBQKBNR w KQkq - 1 6",
	"rn1qkbnr/1b2ppp1/p7/7p/1p1pP2P/2P2N2/PP4P1/RNBQKB1R w KQkq - 0 7",
	"rn1qkbnr/4ppp1/p7/7p/1p1Pb2P/5N2/PP4P1/RNBQKB1R w KQkq - 0 8",
	"rn1qkb1r/4ppp1/p4n2/6Bp/1p1Pb2P/5N2/PP4P1/RN1QKB1R w KQkq - 2 9",
	"rn1qkb1r/4ppp1/p4n2/5bBp/1p1P3P/5N2/PP1N2P1/R2QKB1R w KQkq - 4 10",
	"rn1qkb1r/5pp1/p3pn2/5bBp/1pNP3P/5N2/PP4P1/R2QKB1R w KQkq - 0 11",
	"rn1qk2r/4bpp1/p3pn2/4NbBp/1pNP3P/8/PP4P1/R2QKB1R w KQkq - 2 12",
	"rn1q1k1r/4bpp1/p3pn2/4NbBp/QpNP3P/8/PP4P1/R3KB1R w KQ - 4 13",
	"r2q1k1r/4bpp1/p3pn2/4n1Bp/1pNP2bP/8/PP2B1P1/R2Q1RK1 w - - 0 16",
	"2rq1k1r/4bpp1/p3pn2/4N1Bp/1p1P2bP/8/PP2B1P1/R2Q1RK1 w - - 1 17",
	"3q1k1r/2r1bpp1/p3pn2/4N1Bp/1p1P2bP/8/PP2B1P1/R2Q1R1K w - - 3 18",
	"3q1k1r/2r1bpp1/p3pn2/4N1Bp/1p1P3P/8/PP1Qb1P1/R4R1K w - - 0 19",
	"5k1r/2r1bpp1/p3pn2/4N1Bp/1p1q3P/8/PP2Q1P1/R4R1K w - - 0 20",
	"5k1r/q1r1bpp1/p3pn2/4N1Bp/1p5P/8/PP2Q1P1/3R1R1K w - - 2 21",
	"5k1r/q1r1b1p1/p3pnp1/6Bp/1p5P/8/PP2Q1P1/3R1R1K w - - 0 22",
	"4k2r/q1r1b1p1/p3Qnp1/6Bp/1p5P/8/PP4P1/3R1R1K w - - 1 23",
	"5k1r/q1r1b1p1/p3Qnp1/6Bp/1p5P/8/PP4P1/2R2R1K w - - 3 24",
	"5k1r/q1r1b3/p3Qpp1/7p/1p5P/8/PP4P1/2R2R1K w - - 0 25",
	"4k2r/q1r1b3/p3QRp1/7p/1p5P/8/PP4P1/2R4K w - - 1 26",
	"3k3r/q1r1bQ2/p4Rp1/7p/1p5P/8/PP4P1/2R4K w - - 3 27",
	"4k2r/q1r1b3/p4Rp1/3Q3p/1p5P/8/PP4P1/2R4K w - - 5 28",
	"4kr2/1q1rb3/p5R1/4Q2p/1p5P/8/PP4P1/2R4K w - - 1 33",
	"3k1r2/1q1rb3/p3R3/4Q2p/1p5P/8/PP4P1/2R4K w - - 3 34",
	"4kr2/1q1rb3/p3R3/Q6p/1p5P/8/PP4P1/2R4K w - - 5 35",
	"3k1r2/1q1rb3/p3R3/7Q/1p5P/8/PP4P1/2R4K w - - 1 36",
	"4kr2/1q1rb3/p3R3/Q7/1p5P/8/PP4P1/2R4K w - - 3 37",
	"4k1r1/1q1rb3/p3R3/4Q3/1p5P/8/PP4P1/2R4K w - - 5 38",
	"4k1r1/1q2b3/p1R5/4Q3/1p5P/8/PP4PK/2r5 w - - 0 40",
	"5kr1/1q2b3/p1R5/7Q/1p5P/8/PP4PK/2r5 w - - 2 41",
	"4k1r1/1q2b3/p1R5/5Q2/1p5P/8/PP4PK/2r5 w - - 4 42",
	"rnbqkbnr/1p1pp1pp/2p2p2/P7/6P1/3P4/P1P1PP1P/RNBQKBNR b KQkq - 0 1",
	"rnbqkbnr/1p1p2pp/2p2p2/P3p3/6P1/3P4/P1PBPP1P/RN1QKBNR b KQkq - 1 2",
	"rnbqkbnr/1p4pp/2p2p2/P2pp3/6P1/3P3P/P1PBPP2/RN1QKBNR b KQkq - 0 3",
	"r1bqkbnr/1p4pp/n1p2p2/P2pp3/6P1/3P3P/P1PBPPB1/RN1QK1NR b KQkq - 2 4",
	"r1bqkbnr/1p4pp/2p2p2/P1npp3/6P1/2NP3P/P1PBPPB1/R2QK1NR b KQkq - 4 5",
	"r1bqk1nr/1p4pp/2pb1p2/P1npp3/4P1P1/2NP3P/P1PB1PB1/R2QK1NR b KQkq - 0 6",
	"r1bqk1nr/1p4pp/2pb1p2/P1n1p3/3pP1P1/3P3P/P1PBNPB1/R2QK1NR b KQkq - 1 7",
	"r1bqk2r/1p2n1pp/2pb1p2/P1n1p3/3pPPP1/3P3P/P1PBN1B1/R2QK1NR b KQkq - 0 8",
	"r1bqk2r/1p4pp/2pb1pn1/P1n1p3/3pPPP1/3P1N1P/P1PBN1B1/R2QK2R b KQkq - 2 9",
	"r1bqk2r/1p4pp/2pb1p2/P1n1p3/3pPNP1/3P1N1P/P1PB2B1/R2QK2R b KQkq - 0 10",
	"r1bqk2r/1p4pp/2pb1p2/P1n5/3NPpP1/3P3P/P1PB2B1/R2QK2R b KQkq - 0 11",
	"r1bqk2r/1p4pp/2p2p2/P1n1b3/4PpP1/3P1N1P/P1PB2B1/R2QK2R b KQkq - 2 12",
	"r1bqk2r/1p4pp/2p2p2/P1n5/4PpP1/3P1N1P/P1PB2B1/Q3K2R b Kkq - 0 13",
	"2bqk2r/1p4pp/2p2p2/B1n5/4PpP1/3P1N1P/P1P3B1/Q3K2R b Kk - 0 14",
	"2b1k2r/1p4pp/2p2p2/q1n5/4PpP1/3P1N1P/P1P2KB1/Q6R b k - 1 15",
	"2b1k2r/1p4pp/2p1np2/q7/4PpP1/3P1N1P/P1P2KB1/Q1R5 b k - 3 16",
	"2b1k2r/1p4p1/2p1np2/q3P2p/5pP1/3P1N1P/P1P2KB1/Q1R5 b k - 0 17",
	"2b1k2r/1p4p1/2p1np2/q3P3/5pP1/3P1N2/P1P2KB1/Q1R5 b k - 0 18",
	"2b2rk1/1p4p1/2p1nP2/q7/5pP1/3P1N2/P1P2KB1/Q1R5 b - - 0 19",
	"2b2rk1/1p6/2p1np2/q7/5pP1/3P1N2/P1P3B1/Q1R2K2 b - - 1 20",
	"2b2rk1/1p6/2p2p2/q5n1/3Q1pP1/3P1N2/P1P3B1/2R2K2 b - - 3 21",
	"5rk1/1p6/2p2p2/q5n1/5Qb1/3P1N2/P1P3B1/2R2K2 b - - 0 22",
	"5rk1/1p6/2p2p2/q5n1/5Q2/3P1B2/P1P5/2R2K2 b - - 0 23",
	"5rk1/1p6/2p2p2/4q1n1/2Q5/3P1B2/P1P5/2R2K2 b - - 2 24",
	"5r2/1p4k1/2p2p2/4q1n1/2Q5/3P4/P1P3B1/2R2K2 b - - 4 25",
	"8/1R4k1/2p2p2/4r1n1/2Q5/3Pq3/P1P3B1/5K2 b - - 0 29",
	"8/1R6/2p2p1k/4r1n1/7Q/3Pq3/P1P3B1/5K2 b - - 2 30",
	"8/1R6/2p2pk1/4r1n1/4B2Q/3Pq3/P1P5/5K2 b - - 4 31",
	"7Q/1R6/2p3k1/4rpn1/4B3/3Pq3/P1P5/5K2 b - - 1 32",
	"7Q/1R6/2p3k1/4rpn1/4Bq2/3P4/P1P1K3/8 b - - 3 33",
	"7Q/6R1/2p3k1/4r1n1/4pq2/3P4/P1P1K3/8 b - - 1 34",
	"2Q5/6R1/2p5/4rkn1/4pq2/3P4/P1P1K3/8 b - - 3 35",
	"5Q2/6R1/2p1r3/5kn1/4pq2/3P4/P1P1K3/8 b - - 5 36",
	"8/6R1/2p1r3/6n1/4pQk1/3P4/P1P1K3/8 b - - 0 37",
	"8/6R1/2p1r3/6n1/4Pk2/8/P1P1K3/8 b - - 0 38",
	"8/6R1/2p5/6n1/4rk2/3K4/P1P5/8 b - - 1 39",
	"8/R7/8/2p3n1/4rk2/3K4/P1P5/8 b - - 1 40",
	"8/R7/8/2p3n1/3r1k2/2K5/P1P5/8 b - - 3 41",
	"8/R7/8/2p5/3rnk2/8/PKP5/8 b - - 5 42",
	"8/7R/8/8/1rp1nk2/8/P1P5/2K5 b - - 1 44",
	"8/8/8/8/1rp1n3/4k2R/P1P5/2K5 b - - 3 45",
	"7R/8/8/8/1rpkn3/8/P1P5/2K5 b - - 5 46",
	"8/8/8/8/2pk3R/2n5/r1P5/2K5 b - - 1 49",
	"8/8/8/8/2pkn2R/8/r1P5/1K6 b - - 3 50",
	"8/8/r7/8/2pkn2R/8/1KP5/8 b - - 5 51",
	"8/8/r7/8/3kn2R/1Kp5/2P5/8 b - - 1 52",
	"8/8/1r6/8/K2kn2R/2p5/2P5/8 b - - 3 53",
	"8/8/8/8/K2kn3/2p5/1rP4R/8 b - - 5 54",
	"7R/8/8/2kn4/8/K1p5/2r5/8 b - - 1 59",
	"8/8/8/2kn4/8/K1p4R/1r6/8 b - - 3 60",
	"8/8/8/3n4/2k5/K1p5/1r6/7R b - - 5 61",
	"rnbqkbnr/pp1ppp2/7p/2p3p1/P5P1/8/1PPPPP1P/RNBQKBNR w KQkq - 0 1",
	"rnbqkbnr/pp1ppp2/7p/2p5/P5Pp/8/1PPPPP2/RNBQKBNR w KQkq - 0 2",
	"rnbqkb1r/pp1ppp2/5n1p/2p5/P5Pp/3P4/1PP1PP2/RNBQKBNR w KQkq - 1 3",
	"rnbqkbr1/pp1ppp2/5n1p/2p5/P5PR/3P4/1PP1PP2/RNBQKBN1 w Qq - 1 4",
	"rnbqk1r1/pp1ppp2/5n1b/2p5/P5PR/3P4/1PP1PP2/RN1QKBN1 w Qq - 0 5",
	"rnbqk1r1/pp1ppp2/7R/2p5/P5n1/3P4/1PP1PP2/RN1QKBN1 w Qq - 0 6",
	"rnbqk1r1/pp2pp2/8/2pp4/P5n1/3P4/1PP1PP2/RN1QKBNR w Qq - 0 7",
	"r1bqk1r1/pp2pp2/2n5/2pp4/P5n1/3P1N2/1PP1PP2/RN1QKB1R w Qq - 2 8",
	"r1b1k1r1/pp2pp2/1qn5/2pp4/P5n1/3P1N2/1PPNPP2/R2QKB1R w Qq - 4 9",
	"r1b1k1r1/pp2pp2/1qn5/2p5/P1Pp2n1/3P1N2/1P1NPP2/R2QKB1R w Qq - 0 10",
	"r1b1k1r1/1p2pp2/1qn5/p1p5/P1Pp2n1/3P1N1B/1P1NPP2/R2QK2R w Qq - 0 11",
	"r1b1k3/1p2pp2/1qn3r1/p1p5/P1Pp2n1/3P1N1B/1P1NPP2/R2QK1R1 w Qq - 2 12",
	"r1b1k3/1p2p3/1qn3r1/p1p2p2/P1PpN1n1/3P1N1B/1P2PP2/R2QK1R1 w Qq - 0 13",
	"r1b1k3/1p2p3/1qn3r1/p1p5/P1PpN1p1/3P1N2/1P2PP2/R2QK1R1 w Qq - 0 14",
	"r1b1k3/1p2p3/1q4r1/p1p5/PnPpN1p1/3P4/1P1NPP2/R2QK1R1 w Qq - 2 15",
	"r3k3/1p2p3/1q4r1/p1p2b2/PnPpN1p1/3P4/1P2PP2/R2QKNR1 w Qq - 4 16",
	"r3k3/1p2p3/1q4r1/p1p5/PnPpb1p1/3P2N1/1P2PP2/R2QK1R1 w Qq - 0 17",
	"2kr4/1p2p3/1q4r1/p1p5/PnPpN1p1/3P4/1P2PP2/R2QK1R1 w Q - 1 18",
	"2k2r2/1p2p3/1q4r1/p1p5/PnPpN1p1/3P4/1P1QPP2/R3K1R1 w Q - 3 19",
	"2k3r1/1p2p3/1q4r1/p1p5/PnPpN1p1/3P4/1P1QPPR1/R3K3 w Q - 5 20",
	"2k3r1/1p2p3/6r1/p1p2q2/PnPpN1p1/1P1P4/3QPPR1/2K4R w - - 1 23",
	"2k3r1/1p2p2R/2n3r1/p1p2q2/P1PpN1p1/1P1P4/3QPPR1/2K5 w - - 3 24",
	"2k3r1/4p2R/1pn3r1/p1p2q2/P1PpN1p1/1P1P4/1K1QPPR1/8 w - - 0 25",
	"6r1/1k2p2R/1pn3r1/p1p2q2/P1PpN1p1/1P1P4/1K2PPR1/2Q5 w - - 2 26",
	"8/1k2p1rR/1pn3r1/p1p2q2/P1PpN1p1/1P1P4/1K2PPR1/7Q w - - 4 27",
	"8/1k2p2r/1pn3r1/p1p2q2/P1PpN1p1/1P1P4/1K2PP1R/7Q w - - 0 28",
	"8/1k2p2R/1pn3r1/p1p1q3/P1PpN1p1/1P1P4/1K2PP2/7Q w - - 1 29",
	"7R/2k1p3/1pn3r1/p1p1q3/P1PpN1p1/1P1P4/1K2PP2/7Q w - - 3 30",
	"7R/2k1p2Q/1pn1q1r1/p1p5/P1PpN1p1/1P1P4/1K2PP2/8 w - - 5 31",
	"3n4/2k1p3/1p5q/p1p2QR1/P1P3pr/KP1Pp1N1/5P2/8 w - - 0 61",
	"3n3q/2k1p3/1p6/p1p2QR1/P1P3pr/KP1PP1N1/8/8 w - - 1 62",
	"3n3q/2k1p3/1p6/p4QR1/P1Pp2pr/KP2P1N1/8/8 w - - 0 63",
	"3n3q/2k1p2r/1p6/p5R1/P1PpQ1p1/KP2P1N1/8/8 w - - 2 64",
	"7q/2k1p2r/1pn5/p5R1/P1PPQ1p1/KP4N1/8/8 w - - 1 65",
	"7q/2k1p1r1/1pn5/p7/P1PPQ1R1/KP4N1/8/8 w - - 1 66",
	"5q2/2k1p1r1/1pn5/p7/P1PPQ2R/KP4N1/8/8 w - - 3 67",
	"5q2/2k1pr2/1pn5/p7/P1PPQR2/KP4N1/8/8 w - - 5 68",
	"8/2k1pq2/1pn5/p7/P1PPQ3/KP4N1/8/8 w - - 0 69",
	"8/2k1p3/1pn5/p7/P1PPQ3/KP6/4N3/5q2 w - - 2 70",
	"8/2k1p3/1pn5/p7/P1PPQ3/1P6/1K2N3/3q4 w - - 4 71",
	"8/2k1p3/1p6/p2P4/PnP1Q3/1P6/1K2N3/3q4 w - - 1 72",
	"8/2k1p3/1p6/p2P4/PnP1Q3/1P6/1K1q4/2N5 w - - 3 73",
	"3k4/4p3/1p6/p2P4/PnP1Q3/1P6/3q4/1KN5 w - - 5 74",
	"8/2k1p3/1p6/p2P4/PnP5/K1Q1q3/N7/8 w - - 0 87",
	"8/2k1p3/1p6/p2P4/P1P5/K3Q3/N1n5/8 w - - 1 88",
	"8/2k1p3/1p6/p2P4/P1P5/4n3/NK6/8 w - - 0 89",
	"8/2k1p3/1p6/p2P4/P1P5/2K5/N7/3n4 w - - 2 90",
	"8/2k1p3/1p6/p2P4/P1P5/8/N1K2n2/8 w - - 4 91",
	"3k4/4p3/8/p1pP4/P2K4/2N5/1n6/8 w - - 0 103",
	"8/2k1p3/8/p1KP4/P7/2N5/1n6/8 w - - 1 104",
	"8/3kp3/8/pNKP4/P7/8/1n6/8 w - - 3 105",
	"8/3kp3/1K6/pN1P4/P1n5/8/8/8 w - - 5 106",
	"8/3kp3/1K6/pN1P4/n7/8/8/8 w - - 0 108",
	"8/3kp3/8/KNnP4/8/8/8/8 w - - 1 109",
	"8/1n1kp3/8/1N1P4/1K6/8/8/8 w - - 3 110",
	"3n4/3kp3/8/1N1P4/8/2K5/8/8 w - - 5 111",
	"3n4/3k4/4p3/1N1P4/2K5/8/8/8 w - - 0 112",
	"8/3k4/4n3/1N6/2K5/8/8/8 w - - 0 113",
	"8/8/2k1n3/8/2K5/2N5/8/8 w - - 2 114",
	"8/2k5/4n3/8/1K6/2N5/8/8 w - - 4 115",
	"rnbqk1nr/1ppppp1p/p5pB/8/3P2P1/8/PPP1PP1P/RN1QKBNR b KQkq - 0 1",
	"rnbqk2r/1ppppp1p/p5pn/8/3P2P1/7P/PPP1PP2/RN1QKBNR b KQkq - 0 2",
	"rnbqk2r/1pp1pp1p/p5pn/3p4/3P2P1/7P/PPPQPP2/RN2KBNR b KQkq - 1 3",
	"rnbqk1nr/1pp1pp1p/p5p1/3p4/3P2P1/2N4P/PPPQPP2/R3KBNR b KQkq - 3 4",
	"rnbqk2r/1pp1pp1p/p4np1/3p4/3P2P1/2N4P/PPPQPPB1/R3K1NR b KQkq - 5 5",
	"rnbqk2r/1pp1pp2/p4npp/3p4/3P2P1/2N4P/PPPQPPB1/2KR2NR b kq - 1 6",
	"rnbqk2r/1p2pp2/p1p2npp/3p4/3PP1P1/2N4P/PPPQ1PB1/2KR2NR b kq - 0 7",
	"rnbqk2r/1p2pp2/p1p2npp/8/3Pp1P1/2N4P/PPPQNPB1/2KR3R b kq - 1 8",
	"rn1qk2r/1p2pp2/p1p1bnpp/8/3Pp1P1/2N4P/PPPQNPB1/2KRR3 b kq - 3 9",
	"r2qk2r/1p1npp2/p1p1bnpp/8/3PN1P1/7P/PPPQNPB1/2KRR3 b kq - 0 10",
	"r3k2r/1pqnpp2/p1p1bNpp/8/3P2P1/7P/PPPQNPB1/2KRR3 b kq - 0 11",
	"r3k2r/1pq1pp2/p1p1bnpp/8/3P1NP1/7P/PPPQ1PB1/2KRR3 b kq - 1 12",
	"r3k2r/1pq1pp2/p1p2npp/3b4/3P1NP1/4Q2P/PPP2PB1/2KRR3 b kq - 3 13",
	"r3k2r/1pq1pp2/p1p2npp/8/3P2P1/4Q2P/PPP2PN1/2KRR3 b kq - 0 14",
	"3rk2r/1pq1pp2/p1p2npp/8/2PP2P1/4Q2P/PP3PN1/2KRR3 b k - 0 15",
	"3rk2r/1pq1pp2/p1p2n1p/6p1/2PP2P1/4Q2P/PP3PN1/1K1RR3 b k - 1 16",
	"3r1k1r/1pq1pp2/p1p2n1p/6p1/2PP1PP1/4Q2P/PP4N1/1K1RR3 b - - 0 17",
	"5k1r/1pq1pp2/p1pr1n1p/6p1/2PP1PP1/7P/PP3QN1/1K1RR3 b - - 2 18",
	"3r1k1r/1pq1pp2/p1p2n1p/6p1/2PP1PP1/P6P/1P3QN1/1K1RR3 b - - 0 19",
	"3r1kr1/1pq1pp2/p1p2n1p/4R1p1/2PP1PP1/P6P/1P3QN1/1K1R4 b - - 2 20",
	"3r1kr1/1pqnpp2/p1p4p/6p1/2PP1PP1/P3R2P/1P3QN1/1K1R4 b - - 4 21",
	"3r1kr1/1pq1pp2/p1p2n1p/6P1/2PP2P1/P3NR1P/1P3Q2/1K1R4 b - - 0 24",
	"3r1kr1/1pq1pp2/p1p2n2/5Np1/2PP2P1/P4R1P/1P3Q2/1K1R4 b - - 1 25",
	"3r1kr1/1pq1pp2/p1p5/5Np1/2PPn1P1/P4R1P/1PQ5/1K1R4 b - - 3 26",
	"3r1kr1/1pq1pp2/p1p2n2/5Np1/2PP2P1/P4R1P/1PQ5/1K3R2 b - - 5 27",
	"4rk2/1pq1pp2/p1p2nr1/2P2Np1/3P2P1/P4R1P/1P3Q2/2K1R3 b - - 0 31",
	"4rk2/1p1qpp2/p1p2nr1/2P1RNp1/3P2P1/P4R1P/1P3Q2/2K5 b - - 2 32",
	"4r1k1/1p1qNp2/p1p2nr1/2P1R1p1/3P2P1/P4R1P/1P3Q2/2K5 b - - 0 33",
	"6k1/1p1qrp2/p1p2Rr1/2P1R1p1/3P2P1/P6P/1P3Q2/2K5 b - - 0 34",
	"6k1/1p1q1p2/p1p2Rr1/2P1P1p1/6P1/P6P/1P3Q2/2K5 b - - 0 35",
	"6k1/1p1q1p2/p1p2Q2/2P1P1p1/6P1/P6P/1P6/2K5 b - - 0 36",
	"6k1/1p3p2/p1p5/2P1P1Q1/3q2P1/P6P/1P6/2K5 b - - 0 37",
	"5k2/1p3p2/p1p5/2P1PQ2/3q2P1/P6P/1P6/2K5 b - - 2 38",
	"8/1p3pk1/p1p2Q2/2P1P3/3q2P1/P6P/1P6/2K5 b - - 4 39",
	"6k1/1p3p2/p1pQ4/2P1P3/K5P1/P6q/1P6/8 b - - 1 43",
	"6k1/1p3p2/p1pQ4/2P1P3/KP4P1/P3q3/8/8 b - - 0 44",
	"6k1/5p2/pPpQ4/4P3/KP4P1/P3q3/8/8 b - - 0 45",
	"6k1/5p2/pqpQP3/8/KP4P1/P7/8/8 b - - 0 46",
	"6k1/5p2/p1pQP3/1q6/1P4P1/PK6/8/8 b - - 2 47",
	"6k1/8/p1p1Q3/1q6/1P4P1/PK6/8/8 b - - 0 48",
	"8/4Q1k1/p1p5/1q6/1P4P1/PK6/8/8 b - - 2 49",
	"8/8/p1p3k1/1qQ5/1P4P1/PK6/8/8 b - - 4 50",
	"8/4q1k1/p1p5/5QP1/KP6/P7/8/8 b - - 0 54",
	"4q3/6k1/p1p5/K4QP1/1P6/P7/8/8 b - - 2 55",
	"3q4/6k1/K1p5/5QP1/1P6/P7/8/8 b - - 0 56",
	"q7/6k1/1Kp5/5QP1/1P6/P7/8/8 b - - 2 57",
	"1q6/6k1/2K5/5QP1/1P6/P7/8/8 b - - 0 58",
	"q7/6k1/1K6/5QP1/1P6/P7/8/8 b - - 2 59",
	"1q6/6k1/8/2K2QP1/1P6/P7/8/8 b - - 4 60",
	"8/6k1/8/4Q1P1/1PK5/q7/8/8 b - - 1 62",
	"6k1/8/8/1P2Q1P1/2K5/q7/8/8 b - - 0 63",
	"6k1/8/8/1PK1Q1P1/q7/8/8/8 b - - 2 64",
	"6k1/q7/8/1P2Q1P1/1K6/8/8/8 b - - 4 65",
	"7k/8/1P2Q3/6P1/1K6/8/8/6q1 b - - 0 67",
	"2Q4k/8/1P6/6q1/1K6/8/8/8 b - - 1 68",
	"2Q5/1P5k/8/6q1/1K6/8/8/8 b - - 0 69",
	"2Q5/1P2q2k/8/1K6/8/8/8/8 b - - 2 70",
	"8/1P5k/8/1K6/2Q5/8/4q3/8 b - - 4 71",
	"1Q2Q3/4K1k1/8/8/8/8/8/1q6 b - - 0 88",
	"1Q1KQ3/6k1/8/8/8/8/8/4q3 b - - 2 89",
	"3KQ3/2Q3k1/8/q7/8/8/8/8 b - - 4 90",
	"4Q3/2K3k1/8/8/8/8/8/8 b - - 0 91",
	"8/2K5/5k2/7Q/8/8/8/8 b - - 2 92",
	"8/6k1/2K5/7Q/8/8/8/8 b - - 4 93",
	"r1bqkbnr/p1pppppp/1p6/2n5/5P2/N2P4/PPP1P1PP/R1BQKBNR w KQkq - 0 1",
	"r1bqkbnr/p1pp1ppp/1p2p3/2n5/4PP2/N2P4/PPP3PP/R1BQKBNR w KQkq - 0 2",
	"r1bqkbnr/p1p2ppp/1p2p3/2np4/4PP2/N1PP4/PP4PP/R1BQKBNR w KQkq - 0 3",
	"r2qkbnr/pbp2ppp/1p2p3/2npP3/5P2/N1PP4/PP4PP/R1BQKBNR w KQkq - 1 4",
	"r2qkb1r/pbp2ppp/1p2p2n/2npP3/5P2/N1PP1N2/PP4PP/R1BQKB1R w KQkq - 3 5",
	"r2qk2r/pbp1bppp/1p2p2n/2npP3/5P2/2PP1N2/PPN3PP/R1BQKB1R w KQkq - 5 6",
	"r2q1rk1/1bp1bppp/1p2p2n/p1npP3/5P2/2PP1N2/PPN1B1PP/R1BQ1RK1 w - - 0 8",
	"r2q1rk1/1bp1bppp/np2p2n/p2pP3/3N1P2/2PP1N2/PP2B1PP/R1BQ1RK1 w - - 2 9",
	"r2q1rk1/1b2bppp/np2p2n/p1ppP3/P2N1P2/2PP1N2/1P2B1PP/R1BQ1RK1 w - - 0 10",
	"r2q1rk1/1b2bppp/np2p2n/pNp1P3/P2p1P2/2PP1N2/1P2B1PP/R1BQ1RK1 w - - 0 11",
	"r2q1rk1/1bn1bppp/1p2p2n/pNp1P3/P2p1P2/2PP4/1P1NB1PP/R1BQ1RK1 w - - 2 12",
	"r2q1rk1/1b2bppp/1p2p2n/pnp1P3/P1Np1P2/2PP4/1P2B1PP/R1BQ1RK1 w - - 0 13",
	"r2q1rk1/1b2bppp/1p2p3/pPp1Pn2/2Np1P2/2PP4/1P2B1PP/R1BQ1RK1 w - - 1 14",
	"1r1q1rk1/1b2bppp/1p2p3/pPp1Pn2/2Np1P2/2PP1B2/1P4PP/R1BQ1RK1 w - - 3 15",
	"3q1rk1/1r2bppp/1p2p3/pPp1Pn2/2Np1P2/2PP4/1P4PP/R1BQ1RK1 w - - 0 16",
	"3q1rk1/1r2bppp/1p2p3/pPp1P3/2Np1PPn/2PP4/1P5P/R1BQ1RK1 w - - 1 17",
	"5rk1/1r1qbppp/1p2p3/pPp1P3/2Np1PPn/2PP4/1P2Q2P/R1B2RK1 w - - 3 18",
	"5rk1/1r1qbp1p/1p2p1p1/pPp1P3/2NpQPPn/2PP4/1P5P/R1B2RK1 w - - 0 19",
	"5rk1/1r1qbp1p/1p2p1p1/pP2P3/2NpQPPn/3P4/1P5P/R1B2RK1 w - - 0 20",
	"1r3rk1/3qbp1p/1p2p1p1/pP2P3/2NpQPPn/3P4/1P1B3P/R4RK1 w - - 2 21",
	"1rr3k1/3qbp1p/1p2p1p1/pP2P3/3pQPPn/N2P4/1P1B3P/R4RK1 w - - 4 22",
	"1r6/3qbpkp/1p2p1p1/pP1rP3/3BQPPn/N2P4/1P5P/3R1R1K w - - 1 27",
	"1r6/3qbpk1/1p2p1pp/pP1rP3/4QPPn/N2P4/1P3B1P/3R1R1K w - - 0 28",
	"2r5/3qbpk1/1p2p1pp/pP1rP3/3PQPPn/N7/1P3B1P/3R1R1K w - - 1 29",
	"8/2rqbpk1/1p2p1pp/pP1rP3/3PQPPn/N2R4/1P3B1P/5R1K w - - 3 30",
	"8/2rqbpk1/1p2p2p/pP1rP1p1/3PQPPn/N6R/1P3B1P/5R1K w - - 0 31",
	"8/2rq1pk1/1p2p2p/pP1rPPp1/3PQ1Pn/b6R/1P3B1P/5R1K w - - 0 32",
	"8/3q1pk1/1p2p2p/pP1rPPp1/2rPQ1Pn/P6R/5B1P/5R1K w - - 1 33",
	"8/3q1pk1/1p5p/pP1rPpp1/2rPQ1Pn/P6R/5B1P/5RK1 w - - 0 34",
	"8/3q1pk1/1p5p/pP1rPnp1/2rPQ3/P6R/5B1P/5RK1 w - - 0 35",
	"8/3q1pk1/1p5p/pP1rP1p1/2rnQ3/P4R2/5B1P/5RK1 w - - 0 36",
	"8/3q1pk1/1p5p/pP2P1p1/2rrQ3/P4R2/7P/5RK1 w - - 0 37",
	"8/5qk1/1p5p/pP2P1p1/2rrQ3/P7/7P/5RK1 w - - 0 38",
	"8/5k2/1p5p/pP2P1p1/2rrQ3/P7/7P/6K1 w - - 0 39",
	"8/4k3/1p5p/pP2PQp1/2rr4/P7/7P/6K1 w - - 2 40",
	"8/3k4/1p3Q1p/pP2P1p1/2rr4/P7/7P/6K1 w - - 4 41",
	"2k5/8/1p2P1Qp/pP4p1/8/P1r5/3r3P/6K1 w - - 1 44",
	"6Q1/1k6/1p2P2p/pP4p1/8/P1r5/3r3P/6K1 w - - 3 45",
	"2k5/5Q2/1p2P2p/pP4p1/8/P1r5/3r3P/6K1 w - - 5 46",
	"3r4/1kr5/1p2P2p/pP6/6p1/P7/5Q1P/6K1 w - - 0 50",
	"3r4/k1r5/1p2P2p/pP6/6p1/P7/6QP/6K1 w - - 2 51",
	"3r4/k3r3/1p2P2p/pP6/6p1/P7/1Q5P/6K1 w - - 4 52",
	"4r3/k7/1p2r2Q/pP6/6p1/P7/7P/6K1 w - - 0 54",
	"8/k3r1Q1/1p2r3/pP6/6p1/P7/7P/6K1 w - - 2 55",
	"8/k3r3/1p6/pP6/6Q1/P7/7P/4r1K1 w - - 1 56",
	"8/k3r3/1p6/pP6/6Q1/P7/5K1P/1r6 w - - 3 57",
	"8/k3r3/1p6/pP6/2Q5/P7/1r3K1P/8 w - - 5 58",
	"8/k6r/1p6/pP2Q1K1/8/r7/7P/8 w - - 0 64",
	"8/k6r/1p2Q3/pP4K1/r7/8/7P/8 w - - 2 65",
	"2Q5/k5r1/1p6/pP4K1/r7/8/7P/8 w - - 4 66",
	"2Q5/kr6/1p3K2/pP5r/8/7P/8/8 w - - 1 76",
	"8/kr6/1p3K2/pP6/2Q5/7r/8/8 w - - 0 77",
	"8/kr5r/1p6/pP4K1/2Q5/8/8/8 w - - 2 78",
	"8/k1r4r/1p6/pP4K1/4Q3/8/8/8 w - - 4 79",
	"8/k1r5/1p2Q1K1/1P6/p2r4/8/8/8 w - - 0 84",
	"8/k7/1p4K1/1P6/p1rr4/8/Q7/8 w - - 2 85",
	"8/k2r4/1p4K1/1P6/p1r5/8/7Q/8 w - - 4 86",
	"8/k2r4/1p2K3/1P6/6Q1/p2r4/8/8 w - - 0 91",
	"8/k7/1p1r1K2/1P6/6Q1/p2r4/8/8 w - - 2 92",
	"1k6/4K3/1p1r4/1P6/6Q1/p2r4/8/8 w - - 4 93",
	"8/1k3K2/1p1r4/1P1r4/Q7/8/p7/8 w - - 0 140",
	"8/1k3K2/1p1r4/1r6/8/8/Q7/8 w - - 0 141",
	"8/1k2K3/1p1r4/3r4/8/8/Q7/8 w - - 2 142",
	"8/1k2K3/3r4/1p1r4/8/Q7/8/8 w - - 0 143",
	"8/1k2K3/2r5/Qp1r4/8/8/8/8 w - - 2 144",
	"8/1k2K3/2rr4/1p6/8/8/8/4Q3 w - - 4 145",
	"5K2/8/1k1r4/8/1p1r4/8/4Q3/8 w - - 0 154",
	"8/6K1/3r4/2k5/1p1r4/8/4Q3/8 w - - 2 155",
	"8/6K1/3r4/1k6/1p1r4/8/2Q5/8 w - - 4 156",
	"6K1/8/8/3r4/Q7/1p6/1k6/3r4 w - - 0 166",
	"8/5K2/8/8/Q2r4/1p6/1k6/3r4 w - - 2 167",
	"8/5K2/8/Q7/3r4/1p6/8/1k1r4 w - - 4 168",
	"8/8/5K2/Q7/3r4/8/1p6/1k1r4 w - - 0 169",
	"8/Q7/5K2/8/3r4/8/1p6/1k3r2 w - - 2 170",
	"8/Q7/8/6K1/3r1r2/8/1p6/1k6 w - - 4 171",
	"8/8/8/7K/7r/8/1p6/k7 w - - 0 177",
	"8/8/8/8/7K/8/8/kq6 w - - 0 178",
	"8/8/8/6K1/8/8/8/k4q2 w - - 2 179",
	"8/8/6K1/8/5q2/8/8/k7 w - - 4 180",
};

static const int nodes = 10000;
static struct position pos;

void bench(struct transpositiontable *tt) {
	struct history h = { 0 };
	struct timeinfo ti = { .nodes = nodes };
	move_t move[2];
	timepoint_t start = time_now();
	for (unsigned i = 0; i < SIZE(fens); i++) {
		const char *fen = fens[i];
		pos_from_fen2(&pos, fen);
		printf("position fen %s\n", fen);
		printf("go nodes %d\n", nodes);
		search(&pos, 0, 1, &ti, move, tt, &h, 1);
		print_bestmove(&pos, move[0], move[1]);
	}

	printf("time: %ld ms\n", (time_now() - start) / TPPERMS);
}
